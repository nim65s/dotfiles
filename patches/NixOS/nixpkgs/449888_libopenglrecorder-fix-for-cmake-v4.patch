From b1e0bb3731f2cc989d7454d9dacbba4571d2c35a Mon Sep 17 00:00:00 2001
From: Guilhem Saurel <guilhem.saurel@laas.fr>
Date: Wed, 8 Oct 2025 14:04:44 +0200
Subject: [PATCH 1/2] libopenglrecorder: fix for CMake v4

ref: https://github.com/Benau/libopenglrecorder/pull/14
---
 pkgs/by-name/li/libopenglrecorder/package.nix | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

diff --git a/pkgs/by-name/li/libopenglrecorder/package.nix b/pkgs/by-name/li/libopenglrecorder/package.nix
index cf9cd8cd224ef0..8afc4ee2f0b93b 100644
--- a/pkgs/by-name/li/libopenglrecorder/package.nix
+++ b/pkgs/by-name/li/libopenglrecorder/package.nix
@@ -14,13 +14,13 @@
 
 stdenv.mkDerivation {
   pname = "libopenglrecorder";
-  version = "unstable-2020-08-13";
+  version = "0.1.0-unstable-2025-10-07";
 
   src = fetchFromGitHub {
     owner = "Benau";
     repo = "libopenglrecorder";
-    rev = "c1b81ce26e62fae1aaa086b5cd337cb12361ea3d";
-    sha256 = "13s2d7qs8z4w0gb3hx03n97xmwl07d4s473m4gw90qcvmz217kiz";
+    rev = "6101627e9952ec1a835dad38475f281878526052";
+    hash = "sha256-GTwj0StGvcxEH9JX5W1H+eUj8c6mankGuil+QqCv8QM=";
   };
 
   nativeBuildInputs = [

From b28ea04f81c67361c4d253880ac8742fa5144765 Mon Sep 17 00:00:00 2001
From: Guilhem Saurel <guilhem.saurel@laas.fr>
Date: Wed, 8 Oct 2025 14:06:27 +0200
Subject: [PATCH 2/2] libopenglrecorder: remove use of with lib

---
 pkgs/by-name/li/libopenglrecorder/package.nix | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

diff --git a/pkgs/by-name/li/libopenglrecorder/package.nix b/pkgs/by-name/li/libopenglrecorder/package.nix
index 8afc4ee2f0b93b..a1ac3817beeba9 100644
--- a/pkgs/by-name/li/libopenglrecorder/package.nix
+++ b/pkgs/by-name/li/libopenglrecorder/package.nix
@@ -38,11 +38,11 @@ stdenv.mkDerivation {
     libvorbis
   ];
 
-  meta = with lib; {
+  meta = {
     description = "Library allowing Optional async readback OpenGL frame buffer with optional audio recording";
     homepage = "https://github.com/Benau/libopenglrecorder";
-    license = licenses.bsd3;
-    maintainers = with maintainers; [ OPNA2608 ];
-    platforms = with platforms; windows ++ linux;
+    license = lib.licenses.bsd3;
+    maintainers = with lib.maintainers; [ OPNA2608 ];
+    platforms = with lib.platforms; windows ++ linux;
   };
 }
